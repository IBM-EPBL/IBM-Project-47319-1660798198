<!DOCTYPE html>
<html>
    <head>
        <title>Upload image</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="{{url_for('static',filename='upload.css')}}">
        
    </head>
    <body >
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        
            <img class="navbar-brand"  src="{{url_for('static',filename='NutriAux.png')}}" style="position:absolute" alt="NutriAux" height="60px" width="60px" >
        <form action="/getnutri" method="post" enctype="multipart/form-data">
        <div class="container uploadOuter ">
            <table class="uploadimage">
                <tr>
            <th><label for="uploadFile" id="file" ><h2>Choose your image to upload</h2><i class="fa fa-file-photo-o" style="font-size:48px;color:red"></i></i>
                
            </label></th>
            <th>    </th>
            <th><h3>OR</h3></th>
            
          <th><span class="dragBox" >
            <h2>Drag and Drop image here</h2><i class="fa fa-file-photo-o" style="font-size:48px;color:red"></i>
          <input name="file" type="file" onChange="dragNdrop(event)"  ondragover="drag()" ondrop="drop()" id="uploadFile" required/>
        </span></th>
      </tr>
      </table>
      
          <button class="btn btn-primary btn-lg" id="b1" onclick="window.history.go(-2)">Go Back </button>
          <button class="btn btn-primary btn-lg" id="b1" type="submit" >Submit </button>
      
          </div>
        </form>
            
          <div>
            <table class="table table-bordered">
                <tr>
                  <th scope="col" style="background-color:#000c66;color:white;">Calories</th>
                  <td style="background-color:white;font-weight: bolder;">{{calories}}</td>
                </tr>
                <tr>
                  <th scope="col" style="background-color:#000c66;color:white;">Protein</th>
                  <td style="background-color:white;font-weight: bolder;">{{protein}}</td>
                  
                </tr>
                <tr>
                  <th scope="col" style="background-color:#000c66;color:white;">Fat</th>
                  <td style="background-color:white;font-weight: bolder;">{{fat}}</td>
                  
                </tr>
                <tr>
                  <th scope="col" style="background-color:#000c66;color:white;">Carbs</th>
                  <td style="background-color:white;font-weight: bolder;">{{carbs}}</td>
                </tr>
              
            </table>
          </div>
              
            <div id="preview" style="height:105px">  </div>
          
          </div>
          </div>              
          <script>
            "use strict";
function dragNdrop(event) {
    var fileName = URL.createObjectURL(event.target.files[0]);
    var preview = document.getElementById("preview");
    var previewImg = document.createElement("img");
    previewImg.setAttribute("src", fileName);
    previewImg.setAttribute("width", "100px");
    previewImg.setAttribute("height", "100px");
    preview.innerHTML = "";
    preview.appendChild(previewImg);
}
function drag() {
    document.getElementById('uploadFile').parentNode.className = 'draging dragBox';
}
function drop() {
    document.getElementById('uploadFile').parentNode.className = 'dragBox';
}
          </script>
          <script>
            window.watsonAssistantChatOptions = {
              integrationID: "cc205492-37a9-4863-8858-ddf7b525f0e8", // The ID of this integration.
              region: "us-south", // The region your integration is hosted in.
              serviceInstanceID: "37ac1e13-ba05-4364-9892-9f93f5d59696", // The ID of your service instance.
              onLoad: function (instance) {
                instance.render();
              },
            };
            setTimeout(function () {
              const t = document.createElement("script");
              t.src =
                "https://web-chat.global.assistant.watson.appdomain.cloud/versions/" +
                (window.watsonAssistantChatOptions.clientVersion || "latest") +
                "/WatsonAssistantChatEntry.js";
              document.head.appendChild(t);
            });
          </script>
    </body>
</html>